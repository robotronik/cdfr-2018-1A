ARM GAS  /tmp/cc4pwHI9.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"vl53l0x_platform.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text._I2CWrite,"ax",%progbits
  22              		.align	2
  23              		.global	_I2CWrite
  24              		.thumb
  25              		.thumb_func
  27              	_I2CWrite:
  28              	.LFB113:
  29              		.file 1 "../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c"
   1:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** //?????#include "hal.h"
   2:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #include "vl53l0x_platform.h"
   3:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #include "vl53l0x_api.h"
   4:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
   5:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #include "stm32xxx_hal.h"
   6:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #include <string.h>
   7:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
   8:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #define I2C_TIME_OUT_BASE   10
   9:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #define I2C_TIME_OUT_BYTE   1
  10:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #define VL53L0X_OsDelay(...) HAL_Delay(2)
  11:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  12:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  13:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #ifndef HAL_I2C_MODULE_ENABLED
  14:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #warning "HAL I2C module must be enable "
  15:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #endif
  16:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** //extern I2C_HandleTypeDef hi2c1;
  17:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** //#define VL53L0X_pI2cHandle    (&hi2c1)
  18:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  19:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** /* when not customized by application define dummy one */
  20:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #ifndef VL53L0X_GetI2cBus
  21:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** /** This macro can be overloaded by user to enforce i2c sharing in RTOS context
  22:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****  */
  23:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #   define VL53L0X_GetI2cBus(...) (void)0
  24:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #endif
  25:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  26:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #ifndef VL53L0X_PutI2cBus
  27:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** /** This macro can be overloaded by user to enforce i2c sharing in RTOS context
  28:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****  */
  29:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #   define VL53L0X_PutI2cBus(...) (void)0
ARM GAS  /tmp/cc4pwHI9.s 			page 2


  30:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #endif
  31:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  32:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #ifndef VL53L0X_OsDelay
  33:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #   define  VL53L0X_OsDelay(...) (void)0
  34:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** #endif
  35:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  36:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  37:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** uint8_t _I2CBuffer[64];
  38:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  39:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** int _I2CWrite(VL53L0X_DEV Dev, uint8_t *pdata, uint32_t count) {
  30              		.loc 1 39 0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              	.LVL0:
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  40 0002 82B0     		sub	sp, sp, #8
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 16
  40:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int status;
  41:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int i2c_time_out = I2C_TIME_OUT_BASE+ count* I2C_TIME_OUT_BYTE;
  43              		.loc 1 41 0
  44 0004 02F10A03 		add	r3, r2, #10
  45              	.LVL1:
  42:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  43:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status = HAL_I2C_Master_Transmit(Dev->I2cHandle, Dev->I2cDevAddr, pdata, count, i2c_time_out);
  46              		.loc 1 43 0
  47 0008 90F86041 		ldrb	r4, [r0, #352]	@ zero_extendqisi2
  48 000c D0F85C01 		ldr	r0, [r0, #348]
  49              	.LVL2:
  50 0010 0093     		str	r3, [sp]
  51 0012 93B2     		uxth	r3, r2
  52              	.LVL3:
  53 0014 0A46     		mov	r2, r1
  54              	.LVL4:
  55 0016 2146     		mov	r1, r4
  56              	.LVL5:
  57 0018 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
  58              	.LVL6:
  44:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status) {
  45:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         //VL6180x_ErrLog("I2C error 0x%x %d len", dev->I2cAddr, len);
  46:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         //XNUCLEO6180XA1_I2C1_Init(&hi2c1);
  47:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
  48:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return status;
  49:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
  59              		.loc 1 49 0
  60 001c 02B0     		add	sp, sp, #8
  61              	.LCFI2:
  62              		.cfi_def_cfa_offset 8
  63              		@ sp needed
  64 001e 10BD     		pop	{r4, pc}
  65              		.cfi_endproc
  66              	.LFE113:
ARM GAS  /tmp/cc4pwHI9.s 			page 3


  68              		.section	.text._I2CRead,"ax",%progbits
  69              		.align	2
  70              		.global	_I2CRead
  71              		.thumb
  72              		.thumb_func
  74              	_I2CRead:
  75              	.LFB114:
  50:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  51:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** int _I2CRead(VL53L0X_DEV Dev, uint8_t *pdata, uint32_t count) {
  76              		.loc 1 51 0
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 0
  79              		@ frame_needed = 0, uses_anonymous_args = 0
  80              	.LVL7:
  81 0000 10B5     		push	{r4, lr}
  82              	.LCFI3:
  83              		.cfi_def_cfa_offset 8
  84              		.cfi_offset 4, -8
  85              		.cfi_offset 14, -4
  86 0002 82B0     		sub	sp, sp, #8
  87              	.LCFI4:
  88              		.cfi_def_cfa_offset 16
  52:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int status;
  53:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int i2c_time_out = I2C_TIME_OUT_BASE+ count* I2C_TIME_OUT_BYTE;
  89              		.loc 1 53 0
  90 0004 02F10A03 		add	r3, r2, #10
  91              	.LVL8:
  54:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  55:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status = HAL_I2C_Master_Receive(Dev->I2cHandle, Dev->I2cDevAddr|1, pdata, count, i2c_time_out);
  92              		.loc 1 55 0
  93 0008 90F86041 		ldrb	r4, [r0, #352]	@ zero_extendqisi2
  94 000c D0F85C01 		ldr	r0, [r0, #348]
  95              	.LVL9:
  96 0010 0093     		str	r3, [sp]
  97 0012 93B2     		uxth	r3, r2
  98              	.LVL10:
  99 0014 0A46     		mov	r2, r1
 100              	.LVL11:
 101 0016 44F00101 		orr	r1, r4, #1
 102              	.LVL12:
 103 001a FFF7FEFF 		bl	HAL_I2C_Master_Receive
 104              	.LVL13:
  56:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status) {
  57:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         //VL6180x_ErrLog("I2C error 0x%x %d len", dev->I2cAddr, len);
  58:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         //XNUCLEO6180XA1_I2C1_Init(&hi2c1);
  59:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
  60:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return status;
  61:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 105              		.loc 1 61 0
 106 001e 02B0     		add	sp, sp, #8
 107              	.LCFI5:
 108              		.cfi_def_cfa_offset 8
 109              		@ sp needed
 110 0020 10BD     		pop	{r4, pc}
 111              		.cfi_endproc
 112              	.LFE114:
 114 0022 00BF     		.section	.text.VL53L0X_WriteMulti,"ax",%progbits
ARM GAS  /tmp/cc4pwHI9.s 			page 4


 115              		.align	2
 116              		.global	VL53L0X_WriteMulti
 117              		.thumb
 118              		.thumb_func
 120              	VL53L0X_WriteMulti:
 121              	.LFB115:
  62:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
  63:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** // the ranging_sensor_comms.dll will take care of the page selection
  64:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** VL53L0X_Error VL53L0X_WriteMulti(VL53L0X_DEV Dev, uint8_t index, uint8_t *pdata, uint32_t count) {
 122              		.loc 1 64 0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 0
 125              		@ frame_needed = 0, uses_anonymous_args = 0
 126              	.LVL14:
  65:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int status_int;
  66:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error Status = VL53L0X_ERROR_NONE;
  67:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (count > sizeof(_I2CBuffer) - 1) {
 127              		.loc 1 67 0
 128 0000 3F2B     		cmp	r3, #63
 129 0002 12D8     		bhi	.L7
  64:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int status_int;
 130              		.loc 1 64 0
 131 0004 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 132              	.LCFI6:
 133              		.cfi_def_cfa_offset 24
 134              		.cfi_offset 3, -24
 135              		.cfi_offset 4, -20
 136              		.cfi_offset 5, -16
 137              		.cfi_offset 6, -12
 138              		.cfi_offset 7, -8
 139              		.cfi_offset 14, -4
 140 0006 1E46     		mov	r6, r3
 141 0008 1546     		mov	r5, r2
 142 000a 0446     		mov	r4, r0
  68:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         return VL53L0X_ERROR_INVALID_PARAMS;
  69:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
  70:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[0] = index;
 143              		.loc 1 70 0
 144 000c 0A4F     		ldr	r7, .L10
 145 000e 3846     		mov	r0, r7
 146              	.LVL15:
 147 0010 00F8011B 		strb	r1, [r0], #1
  71:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     memcpy(&_I2CBuffer[1], pdata, count);
 148              		.loc 1 71 0
 149 0014 1A46     		mov	r2, r3
 150              	.LVL16:
 151 0016 2946     		mov	r1, r5
 152              	.LVL17:
 153 0018 FFF7FEFF 		bl	memcpy
 154              	.LVL18:
  72:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_GetI2cBus();
  73:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CWrite(Dev, _I2CBuffer, count + 1);
 155              		.loc 1 73 0
 156 001c 721C     		adds	r2, r6, #1
 157 001e 3946     		mov	r1, r7
 158 0020 2046     		mov	r0, r4
 159 0022 FFF7FEFF 		bl	_I2CWrite
ARM GAS  /tmp/cc4pwHI9.s 			page 5


 160              	.LVL19:
  74:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status_int != 0) {
 161              		.loc 1 74 0
 162 0026 18B9     		cbnz	r0, .L8
 163 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 164              	.LVL20:
 165              	.L7:
 166              	.LCFI7:
 167              		.cfi_def_cfa_offset 0
 168              		.cfi_restore 3
 169              		.cfi_restore 4
 170              		.cfi_restore 5
 171              		.cfi_restore 6
 172              		.cfi_restore 7
 173              		.cfi_restore 14
  68:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 174              		.loc 1 68 0
 175 002a 6FF00300 		mvn	r0, #3
 176              	.LVL21:
  75:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
  76:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
  77:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_PutI2cBus();
  78:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return Status;
  79:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 177              		.loc 1 79 0
 178 002e 7047     		bx	lr
 179              	.LVL22:
 180              	.L8:
 181              	.LCFI8:
 182              		.cfi_def_cfa_offset 24
 183              		.cfi_offset 3, -24
 184              		.cfi_offset 4, -20
 185              		.cfi_offset 5, -16
 186              		.cfi_offset 6, -12
 187              		.cfi_offset 7, -8
 188              		.cfi_offset 14, -4
  75:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 189              		.loc 1 75 0
 190 0030 6FF01300 		mvn	r0, #19
 191              	.LVL23:
 192              		.loc 1 79 0
 193 0034 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 194              	.LVL24:
 195              	.L11:
 196 0036 00BF     		.align	2
 197              	.L10:
 198 0038 00000000 		.word	_I2CBuffer
 199              		.cfi_endproc
 200              	.LFE115:
 202              		.section	.text.VL53L0X_ReadMulti,"ax",%progbits
 203              		.align	2
 204              		.global	VL53L0X_ReadMulti
 205              		.thumb
 206              		.thumb_func
 208              	VL53L0X_ReadMulti:
 209              	.LFB116:
  80:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
ARM GAS  /tmp/cc4pwHI9.s 			page 6


  81:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** // the ranging_sensor_comms.dll will take care of the page selection
  82:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** VL53L0X_Error VL53L0X_ReadMulti(VL53L0X_DEV Dev, uint8_t index, uint8_t *pdata, uint32_t count) {
 210              		.loc 1 82 0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 8
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 214              	.LVL25:
 215 0000 70B5     		push	{r4, r5, r6, lr}
 216              	.LCFI9:
 217              		.cfi_def_cfa_offset 16
 218              		.cfi_offset 4, -16
 219              		.cfi_offset 5, -12
 220              		.cfi_offset 6, -8
 221              		.cfi_offset 14, -4
 222 0002 82B0     		sub	sp, sp, #8
 223              	.LCFI10:
 224              		.cfi_def_cfa_offset 24
 225 0004 0446     		mov	r4, r0
 226 0006 1546     		mov	r5, r2
 227 0008 1E46     		mov	r6, r3
 228 000a 02AB     		add	r3, sp, #8
 229              	.LVL26:
 230 000c 03F8011D 		strb	r1, [r3, #-1]!
 231              	.LVL27:
  83:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error Status = VL53L0X_ERROR_NONE;
  84:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int32_t status_int;
  85:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_GetI2cBus();
  86:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CWrite(Dev, &index, 1);
 232              		.loc 1 86 0
 233 0010 0122     		movs	r2, #1
 234              	.LVL28:
 235 0012 1946     		mov	r1, r3
 236              	.LVL29:
 237 0014 FFF7FEFF 		bl	_I2CWrite
 238              	.LVL30:
  87:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status_int != 0) {
 239              		.loc 1 87 0
 240 0018 30B9     		cbnz	r0, .L14
  88:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
  89:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         goto done;
  90:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
  91:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CRead(Dev, pdata, count);
 241              		.loc 1 91 0
 242 001a 3246     		mov	r2, r6
 243 001c 2946     		mov	r1, r5
 244 001e 2046     		mov	r0, r4
 245              	.LVL31:
 246 0020 FFF7FEFF 		bl	_I2CRead
 247              	.LVL32:
  92:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status_int != 0) {
 248              		.loc 1 92 0
 249 0024 18B9     		cbnz	r0, .L15
 250 0026 04E0     		b	.L13
 251              	.L14:
  88:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 252              		.loc 1 88 0
 253 0028 6FF01300 		mvn	r0, #19
ARM GAS  /tmp/cc4pwHI9.s 			page 7


 254              	.LVL33:
 255 002c 01E0     		b	.L13
 256              	.LVL34:
 257              	.L15:
  93:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 258              		.loc 1 93 0
 259 002e 6FF01300 		mvn	r0, #19
 260              	.LVL35:
 261              	.L13:
  94:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
  95:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** done:
  96:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_PutI2cBus();
  97:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return Status;
  98:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 262              		.loc 1 98 0
 263 0032 02B0     		add	sp, sp, #8
 264              	.LCFI11:
 265              		.cfi_def_cfa_offset 16
 266              	.LVL36:
 267              		@ sp needed
 268 0034 70BD     		pop	{r4, r5, r6, pc}
 269              		.cfi_endproc
 270              	.LFE116:
 272 0036 00BF     		.section	.text.VL53L0X_WrByte,"ax",%progbits
 273              		.align	2
 274              		.global	VL53L0X_WrByte
 275              		.thumb
 276              		.thumb_func
 278              	VL53L0X_WrByte:
 279              	.LFB117:
  99:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 100:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** VL53L0X_Error VL53L0X_WrByte(VL53L0X_DEV Dev, uint8_t index, uint8_t data) {
 280              		.loc 1 100 0
 281              		.cfi_startproc
 282              		@ args = 0, pretend = 0, frame = 0
 283              		@ frame_needed = 0, uses_anonymous_args = 0
 284              	.LVL37:
 285 0000 08B5     		push	{r3, lr}
 286              	.LCFI12:
 287              		.cfi_def_cfa_offset 8
 288              		.cfi_offset 3, -8
 289              		.cfi_offset 14, -4
 290              	.LVL38:
 101:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 102:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int32_t status_int;
 103:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 104:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[0] = index;
 291              		.loc 1 104 0
 292 0002 054B     		ldr	r3, .L21
 293 0004 1970     		strb	r1, [r3]
 105:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[1] = data;
 294              		.loc 1 105 0
 295 0006 5A70     		strb	r2, [r3, #1]
 106:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 107:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_GetI2cBus();
 108:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CWrite(Dev, _I2CBuffer, 2);
 296              		.loc 1 108 0
ARM GAS  /tmp/cc4pwHI9.s 			page 8


 297 0008 0222     		movs	r2, #2
 298              	.LVL39:
 299 000a 1946     		mov	r1, r3
 300              	.LVL40:
 301 000c FFF7FEFF 		bl	_I2CWrite
 302              	.LVL41:
 109:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status_int != 0) {
 303              		.loc 1 109 0
 304 0010 08B1     		cbz	r0, .L18
 110:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 305              		.loc 1 110 0
 306 0012 6FF01300 		mvn	r0, #19
 307              	.LVL42:
 308              	.L18:
 111:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 112:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_PutI2cBus();
 113:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return Status;
 114:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 309              		.loc 1 114 0
 310 0016 08BD     		pop	{r3, pc}
 311              	.L22:
 312              		.align	2
 313              	.L21:
 314 0018 00000000 		.word	_I2CBuffer
 315              		.cfi_endproc
 316              	.LFE117:
 318              		.section	.text.VL53L0X_WrWord,"ax",%progbits
 319              		.align	2
 320              		.global	VL53L0X_WrWord
 321              		.thumb
 322              		.thumb_func
 324              	VL53L0X_WrWord:
 325              	.LFB118:
 115:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 116:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** VL53L0X_Error VL53L0X_WrWord(VL53L0X_DEV Dev, uint8_t index, uint16_t data) {
 326              		.loc 1 116 0
 327              		.cfi_startproc
 328              		@ args = 0, pretend = 0, frame = 0
 329              		@ frame_needed = 0, uses_anonymous_args = 0
 330              	.LVL43:
 331 0000 08B5     		push	{r3, lr}
 332              	.LCFI13:
 333              		.cfi_def_cfa_offset 8
 334              		.cfi_offset 3, -8
 335              		.cfi_offset 14, -4
 336              	.LVL44:
 117:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 118:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int32_t status_int;
 119:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 120:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[0] = index;
 337              		.loc 1 120 0
 338 0002 064B     		ldr	r3, .L27
 339 0004 1970     		strb	r1, [r3]
 121:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[1] = data >> 8;
 340              		.loc 1 121 0
 341 0006 110A     		lsrs	r1, r2, #8
 342              	.LVL45:
ARM GAS  /tmp/cc4pwHI9.s 			page 9


 343 0008 5970     		strb	r1, [r3, #1]
 122:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[2] = data & 0x00FF;
 344              		.loc 1 122 0
 345 000a 9A70     		strb	r2, [r3, #2]
 123:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 124:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_GetI2cBus();
 125:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CWrite(Dev, _I2CBuffer, 3);
 346              		.loc 1 125 0
 347 000c 0322     		movs	r2, #3
 348              	.LVL46:
 349 000e 1946     		mov	r1, r3
 350 0010 FFF7FEFF 		bl	_I2CWrite
 351              	.LVL47:
 126:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status_int != 0) {
 352              		.loc 1 126 0
 353 0014 08B1     		cbz	r0, .L24
 127:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 354              		.loc 1 127 0
 355 0016 6FF01300 		mvn	r0, #19
 356              	.LVL48:
 357              	.L24:
 128:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 129:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_PutI2cBus();
 130:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return Status;
 131:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 358              		.loc 1 131 0
 359 001a 08BD     		pop	{r3, pc}
 360              	.L28:
 361              		.align	2
 362              	.L27:
 363 001c 00000000 		.word	_I2CBuffer
 364              		.cfi_endproc
 365              	.LFE118:
 367              		.section	.text.VL53L0X_WrDWord,"ax",%progbits
 368              		.align	2
 369              		.global	VL53L0X_WrDWord
 370              		.thumb
 371              		.thumb_func
 373              	VL53L0X_WrDWord:
 374              	.LFB119:
 132:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 133:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** VL53L0X_Error VL53L0X_WrDWord(VL53L0X_DEV Dev, uint8_t index, uint32_t data) {
 375              		.loc 1 133 0
 376              		.cfi_startproc
 377              		@ args = 0, pretend = 0, frame = 0
 378              		@ frame_needed = 0, uses_anonymous_args = 0
 379              	.LVL49:
 380 0000 08B5     		push	{r3, lr}
 381              	.LCFI14:
 382              		.cfi_def_cfa_offset 8
 383              		.cfi_offset 3, -8
 384              		.cfi_offset 14, -4
 385              	.LVL50:
 134:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 135:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int32_t status_int;
 136:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[0] = index;
 386              		.loc 1 136 0
ARM GAS  /tmp/cc4pwHI9.s 			page 10


 387 0002 084B     		ldr	r3, .L33
 388 0004 1970     		strb	r1, [r3]
 137:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[1] = (data >> 24) & 0xFF;
 389              		.loc 1 137 0
 390 0006 110E     		lsrs	r1, r2, #24
 391              	.LVL51:
 392 0008 5970     		strb	r1, [r3, #1]
 138:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[2] = (data >> 16) & 0xFF;
 393              		.loc 1 138 0
 394 000a 110C     		lsrs	r1, r2, #16
 395 000c 9970     		strb	r1, [r3, #2]
 139:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[3] = (data >> 8)  & 0xFF;
 396              		.loc 1 139 0
 397 000e 110A     		lsrs	r1, r2, #8
 398 0010 D970     		strb	r1, [r3, #3]
 140:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     _I2CBuffer[4] = (data >> 0 ) & 0xFF;
 399              		.loc 1 140 0
 400 0012 1A71     		strb	r2, [r3, #4]
 141:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_GetI2cBus();
 142:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CWrite(Dev, _I2CBuffer, 5);
 401              		.loc 1 142 0
 402 0014 0522     		movs	r2, #5
 403              	.LVL52:
 404 0016 1946     		mov	r1, r3
 405 0018 FFF7FEFF 		bl	_I2CWrite
 406              	.LVL53:
 143:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status_int != 0) {
 407              		.loc 1 143 0
 408 001c 08B1     		cbz	r0, .L30
 144:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 409              		.loc 1 144 0
 410 001e 6FF01300 		mvn	r0, #19
 411              	.LVL54:
 412              	.L30:
 145:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 146:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_PutI2cBus();
 147:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return Status;
 148:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 413              		.loc 1 148 0
 414 0022 08BD     		pop	{r3, pc}
 415              	.L34:
 416              		.align	2
 417              	.L33:
 418 0024 00000000 		.word	_I2CBuffer
 419              		.cfi_endproc
 420              	.LFE119:
 422              		.section	.text.VL53L0X_RdByte,"ax",%progbits
 423              		.align	2
 424              		.global	VL53L0X_RdByte
 425              		.thumb
 426              		.thumb_func
 428              	VL53L0X_RdByte:
 429              	.LFB121:
 149:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 150:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** VL53L0X_Error VL53L0X_UpdateByte(VL53L0X_DEV Dev, uint8_t index, uint8_t AndData, uint8_t OrData) {
 151:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 152:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     uint8_t data;
ARM GAS  /tmp/cc4pwHI9.s 			page 11


 153:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 154:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     Status = VL53L0X_RdByte(Dev, index, &data);
 155:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (Status) {
 156:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         goto done;
 157:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 158:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     data = (data & AndData) | OrData;
 159:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     Status = VL53L0X_WrByte(Dev, index, data);
 160:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** done:
 161:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return Status;
 162:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 163:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 164:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** VL53L0X_Error VL53L0X_RdByte(VL53L0X_DEV Dev, uint8_t index, uint8_t *data) {
 430              		.loc 1 164 0
 431              		.cfi_startproc
 432              		@ args = 0, pretend = 0, frame = 8
 433              		@ frame_needed = 0, uses_anonymous_args = 0
 434              	.LVL55:
 435 0000 30B5     		push	{r4, r5, lr}
 436              	.LCFI15:
 437              		.cfi_def_cfa_offset 12
 438              		.cfi_offset 4, -12
 439              		.cfi_offset 5, -8
 440              		.cfi_offset 14, -4
 441 0002 83B0     		sub	sp, sp, #12
 442              	.LCFI16:
 443              		.cfi_def_cfa_offset 24
 444 0004 0446     		mov	r4, r0
 445 0006 1546     		mov	r5, r2
 446 0008 02AB     		add	r3, sp, #8
 447 000a 03F8011D 		strb	r1, [r3, #-1]!
 448              	.LVL56:
 165:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 166:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int32_t status_int;
 167:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 168:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_GetI2cBus();
 169:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CWrite(Dev, &index, 1);
 449              		.loc 1 169 0
 450 000e 0122     		movs	r2, #1
 451              	.LVL57:
 452 0010 1946     		mov	r1, r3
 453              	.LVL58:
 454 0012 FFF7FEFF 		bl	_I2CWrite
 455              	.LVL59:
 170:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if( status_int ){
 456              		.loc 1 170 0
 457 0016 30B9     		cbnz	r0, .L37
 171:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 172:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         goto done;
 173:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 174:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CRead(Dev, data, 1);
 458              		.loc 1 174 0
 459 0018 0122     		movs	r2, #1
 460 001a 2946     		mov	r1, r5
 461 001c 2046     		mov	r0, r4
 462              	.LVL60:
 463 001e FFF7FEFF 		bl	_I2CRead
 464              	.LVL61:
ARM GAS  /tmp/cc4pwHI9.s 			page 12


 175:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status_int != 0) {
 465              		.loc 1 175 0
 466 0022 18B9     		cbnz	r0, .L38
 467 0024 04E0     		b	.L36
 468              	.L37:
 171:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 469              		.loc 1 171 0
 470 0026 6FF01300 		mvn	r0, #19
 471              	.LVL62:
 472 002a 01E0     		b	.L36
 473              	.LVL63:
 474              	.L38:
 176:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 475              		.loc 1 176 0
 476 002c 6FF01300 		mvn	r0, #19
 477              	.LVL64:
 478              	.L36:
 177:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 178:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** done:
 179:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_PutI2cBus();
 180:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return Status;
 181:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 479              		.loc 1 181 0
 480 0030 03B0     		add	sp, sp, #12
 481              	.LCFI17:
 482              		.cfi_def_cfa_offset 12
 483              		@ sp needed
 484 0032 30BD     		pop	{r4, r5, pc}
 485              		.cfi_endproc
 486              	.LFE121:
 488              		.section	.text.VL53L0X_UpdateByte,"ax",%progbits
 489              		.align	2
 490              		.global	VL53L0X_UpdateByte
 491              		.thumb
 492              		.thumb_func
 494              	VL53L0X_UpdateByte:
 495              	.LFB120:
 150:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 496              		.loc 1 150 0
 497              		.cfi_startproc
 498              		@ args = 0, pretend = 0, frame = 8
 499              		@ frame_needed = 0, uses_anonymous_args = 0
 500              	.LVL65:
 501 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 502              	.LCFI18:
 503              		.cfi_def_cfa_offset 20
 504              		.cfi_offset 4, -20
 505              		.cfi_offset 5, -16
 506              		.cfi_offset 6, -12
 507              		.cfi_offset 7, -8
 508              		.cfi_offset 14, -4
 509 0002 83B0     		sub	sp, sp, #12
 510              	.LCFI19:
 511              		.cfi_def_cfa_offset 32
 512 0004 0446     		mov	r4, r0
 513 0006 0D46     		mov	r5, r1
 514 0008 1746     		mov	r7, r2
ARM GAS  /tmp/cc4pwHI9.s 			page 13


 515 000a 1E46     		mov	r6, r3
 516              	.LVL66:
 154:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (Status) {
 517              		.loc 1 154 0
 518 000c 0DF10702 		add	r2, sp, #7
 519              	.LVL67:
 520 0010 FFF7FEFF 		bl	VL53L0X_RdByte
 521              	.LVL68:
 155:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         goto done;
 522              		.loc 1 155 0
 523 0014 0346     		mov	r3, r0
 524 0016 50B9     		cbnz	r0, .L41
 158:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     Status = VL53L0X_WrByte(Dev, index, data);
 525              		.loc 1 158 0
 526 0018 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 527 001c 3A40     		ands	r2, r2, r7
 528 001e 3243     		orrs	r2, r2, r6
 529 0020 8DF80720 		strb	r2, [sp, #7]
 159:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** done:
 530              		.loc 1 159 0
 531 0024 2946     		mov	r1, r5
 532 0026 2046     		mov	r0, r4
 533              	.LVL69:
 534 0028 FFF7FEFF 		bl	VL53L0X_WrByte
 535              	.LVL70:
 536 002c 0346     		mov	r3, r0
 537              	.LVL71:
 538              	.L41:
 162:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 539              		.loc 1 162 0
 540 002e 1846     		mov	r0, r3
 541 0030 03B0     		add	sp, sp, #12
 542              	.LCFI20:
 543              		.cfi_def_cfa_offset 20
 544              		@ sp needed
 545 0032 F0BD     		pop	{r4, r5, r6, r7, pc}
 546              		.cfi_endproc
 547              	.LFE120:
 549              		.section	.text.VL53L0X_RdWord,"ax",%progbits
 550              		.align	2
 551              		.global	VL53L0X_RdWord
 552              		.thumb
 553              		.thumb_func
 555              	VL53L0X_RdWord:
 556              	.LFB122:
 182:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 183:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** VL53L0X_Error VL53L0X_RdWord(VL53L0X_DEV Dev, uint8_t index, uint16_t *data) {
 557              		.loc 1 183 0
 558              		.cfi_startproc
 559              		@ args = 0, pretend = 0, frame = 8
 560              		@ frame_needed = 0, uses_anonymous_args = 0
 561              	.LVL72:
 562 0000 30B5     		push	{r4, r5, lr}
 563              	.LCFI21:
 564              		.cfi_def_cfa_offset 12
 565              		.cfi_offset 4, -12
 566              		.cfi_offset 5, -8
ARM GAS  /tmp/cc4pwHI9.s 			page 14


 567              		.cfi_offset 14, -4
 568 0002 83B0     		sub	sp, sp, #12
 569              	.LCFI22:
 570              		.cfi_def_cfa_offset 24
 571 0004 0446     		mov	r4, r0
 572 0006 1546     		mov	r5, r2
 573 0008 02AB     		add	r3, sp, #8
 574 000a 03F8011D 		strb	r1, [r3, #-1]!
 575              	.LVL73:
 184:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 185:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int32_t status_int;
 186:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 187:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_GetI2cBus();
 188:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CWrite(Dev, &index, 1);
 576              		.loc 1 188 0
 577 000e 0122     		movs	r2, #1
 578              	.LVL74:
 579 0010 1946     		mov	r1, r3
 580              	.LVL75:
 581 0012 FFF7FEFF 		bl	_I2CWrite
 582              	.LVL76:
 189:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 190:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if( status_int ){
 583              		.loc 1 190 0
 584 0016 60B9     		cbnz	r0, .L45
 191:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 192:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         goto done;
 193:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 194:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CRead(Dev, _I2CBuffer, 2);
 585              		.loc 1 194 0
 586 0018 0222     		movs	r2, #2
 587 001a 0949     		ldr	r1, .L48
 588 001c 2046     		mov	r0, r4
 589              	.LVL77:
 590 001e FFF7FEFF 		bl	_I2CRead
 591              	.LVL78:
 195:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status_int != 0) {
 592              		.loc 1 195 0
 593 0022 48B9     		cbnz	r0, .L46
 196:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 197:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         goto done;
 198:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 199:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 200:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     *data = ((uint16_t)_I2CBuffer[0]<<8) + (uint16_t)_I2CBuffer[1];
 594              		.loc 1 200 0
 595 0024 064A     		ldr	r2, .L48
 596 0026 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 597 0028 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 598 002a 03EB0123 		add	r3, r3, r1, lsl #8
 599 002e 2B80     		strh	r3, [r5]	@ movhi
 600 0030 04E0     		b	.L44
 601              	.L45:
 191:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         goto done;
 602              		.loc 1 191 0
 603 0032 6FF01300 		mvn	r0, #19
 604              	.LVL79:
 605 0036 01E0     		b	.L44
ARM GAS  /tmp/cc4pwHI9.s 			page 15


 606              	.LVL80:
 607              	.L46:
 196:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 608              		.loc 1 196 0
 609 0038 6FF01300 		mvn	r0, #19
 610              	.LVL81:
 611              	.L44:
 201:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** done:
 202:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_PutI2cBus();
 203:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return Status;
 204:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 612              		.loc 1 204 0
 613 003c 03B0     		add	sp, sp, #12
 614              	.LCFI23:
 615              		.cfi_def_cfa_offset 12
 616              		@ sp needed
 617 003e 30BD     		pop	{r4, r5, pc}
 618              	.LVL82:
 619              	.L49:
 620              		.align	2
 621              	.L48:
 622 0040 00000000 		.word	_I2CBuffer
 623              		.cfi_endproc
 624              	.LFE122:
 626              		.section	.text.VL53L0X_RdDWord,"ax",%progbits
 627              		.align	2
 628              		.global	VL53L0X_RdDWord
 629              		.thumb
 630              		.thumb_func
 632              	VL53L0X_RdDWord:
 633              	.LFB123:
 205:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 206:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** VL53L0X_Error VL53L0X_RdDWord(VL53L0X_DEV Dev, uint8_t index, uint32_t *data) {
 634              		.loc 1 206 0
 635              		.cfi_startproc
 636              		@ args = 0, pretend = 0, frame = 8
 637              		@ frame_needed = 0, uses_anonymous_args = 0
 638              	.LVL83:
 639 0000 30B5     		push	{r4, r5, lr}
 640              	.LCFI24:
 641              		.cfi_def_cfa_offset 12
 642              		.cfi_offset 4, -12
 643              		.cfi_offset 5, -8
 644              		.cfi_offset 14, -4
 645 0002 83B0     		sub	sp, sp, #12
 646              	.LCFI25:
 647              		.cfi_def_cfa_offset 24
 648 0004 0546     		mov	r5, r0
 649 0006 1446     		mov	r4, r2
 650 0008 02AB     		add	r3, sp, #8
 651 000a 03F8011D 		strb	r1, [r3, #-1]!
 652              	.LVL84:
 207:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error Status = VL53L0X_ERROR_NONE;
 208:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     int32_t status_int;
 209:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 210:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_GetI2cBus();
 211:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CWrite(Dev, &index, 1);
ARM GAS  /tmp/cc4pwHI9.s 			page 16


 653              		.loc 1 211 0
 654 000e 0122     		movs	r2, #1
 655              	.LVL85:
 656 0010 1946     		mov	r1, r3
 657              	.LVL86:
 658 0012 FFF7FEFF 		bl	_I2CWrite
 659              	.LVL87:
 212:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status_int != 0) {
 660              		.loc 1 212 0
 661 0016 90B9     		cbnz	r0, .L52
 213:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 214:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         goto done;
 215:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 216:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     status_int = _I2CRead(Dev, _I2CBuffer, 4);
 662              		.loc 1 216 0
 663 0018 0422     		movs	r2, #4
 664 001a 0C49     		ldr	r1, .L55
 665 001c 2846     		mov	r0, r5
 666              	.LVL88:
 667 001e FFF7FEFF 		bl	_I2CRead
 668              	.LVL89:
 217:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     if (status_int != 0) {
 669              		.loc 1 217 0
 670 0022 78B9     		cbnz	r0, .L53
 218:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 219:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         goto done;
 220:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     }
 221:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 222:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     *data = ((uint32_t)_I2CBuffer[0]<<24) + ((uint32_t)_I2CBuffer[1]<<16) + ((uint32_t)_I2CBuffer[2
 671              		.loc 1 222 0
 672 0024 094A     		ldr	r2, .L55
 673 0026 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 674 0028 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 675 002a 1B04     		lsls	r3, r3, #16
 676 002c 03EB0163 		add	r3, r3, r1, lsl #24
 677 0030 9178     		ldrb	r1, [r2, #2]	@ zero_extendqisi2
 678 0032 03EB0123 		add	r3, r3, r1, lsl #8
 679 0036 D278     		ldrb	r2, [r2, #3]	@ zero_extendqisi2
 680 0038 1344     		add	r3, r3, r2
 681 003a 2360     		str	r3, [r4]
 682 003c 04E0     		b	.L51
 683              	.L52:
 213:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         goto done;
 684              		.loc 1 213 0
 685 003e 6FF01300 		mvn	r0, #19
 686              	.LVL90:
 687 0042 01E0     		b	.L51
 688              	.LVL91:
 689              	.L53:
 218:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****         Status = VL53L0X_ERROR_CONTROL_INTERFACE;
 690              		.loc 1 218 0
 691 0044 6FF01300 		mvn	r0, #19
 692              	.LVL92:
 693              	.L51:
 223:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 224:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** done:
 225:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_PutI2cBus();
ARM GAS  /tmp/cc4pwHI9.s 			page 17


 226:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return Status;
 227:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 694              		.loc 1 227 0
 695 0048 03B0     		add	sp, sp, #12
 696              	.LCFI26:
 697              		.cfi_def_cfa_offset 12
 698              		@ sp needed
 699 004a 30BD     		pop	{r4, r5, pc}
 700              	.LVL93:
 701              	.L56:
 702              		.align	2
 703              	.L55:
 704 004c 00000000 		.word	_I2CBuffer
 705              		.cfi_endproc
 706              	.LFE123:
 708              		.section	.text.VL53L0X_PollingDelay,"ax",%progbits
 709              		.align	2
 710              		.global	VL53L0X_PollingDelay
 711              		.thumb
 712              		.thumb_func
 714              	VL53L0X_PollingDelay:
 715              	.LFB124:
 228:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 229:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** VL53L0X_Error VL53L0X_PollingDelay(VL53L0X_DEV Dev) {
 716              		.loc 1 229 0
 717              		.cfi_startproc
 718              		@ args = 0, pretend = 0, frame = 0
 719              		@ frame_needed = 0, uses_anonymous_args = 0
 720              	.LVL94:
 721 0000 08B5     		push	{r3, lr}
 722              	.LCFI27:
 723              		.cfi_def_cfa_offset 8
 724              		.cfi_offset 3, -8
 725              		.cfi_offset 14, -4
 726              	.LVL95:
 230:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_Error status = VL53L0X_ERROR_NONE;
 231:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** 
 232:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     // do nothing
 233:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     VL53L0X_OsDelay();
 727              		.loc 1 233 0
 728 0002 0220     		movs	r0, #2
 729              	.LVL96:
 730 0004 FFF7FEFF 		bl	HAL_Delay
 731              	.LVL97:
 234:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c ****     return status;
 235:../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.c **** }
 732              		.loc 1 235 0
 733 0008 0020     		movs	r0, #0
 734 000a 08BD     		pop	{r3, pc}
 735              		.cfi_endproc
 736              	.LFE124:
 738              		.comm	_I2CBuffer,64,4
 739              		.text
 740              	.Letext0:
 741              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 742              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 743              		.file 4 "../Drivers/BSP/Components/vl53l0x/vl53l0x_types.h"
ARM GAS  /tmp/cc4pwHI9.s 			page 18


 744              		.file 5 "../Drivers/BSP/Components/vl53l0x/vl53l0x_device.h"
 745              		.file 6 "../Drivers/BSP/Components/vl53l0x/vl53l0x_def.h"
 746              		.file 7 "../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 747              		.file 8 "../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 748              		.file 9 "../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 749              		.file 10 "../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 750              		.file 11 "../Drivers/BSP/X-NUCLEO-53L0A1/vl53l0x_platform.h"
 751              		.file 12 "../Drivers/CMSIS/Include/core_cm4.h"
 752              		.file 13 "../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/cc4pwHI9.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 vl53l0x_platform.c
     /tmp/cc4pwHI9.s:22     .text._I2CWrite:00000000 $t
     /tmp/cc4pwHI9.s:27     .text._I2CWrite:00000000 _I2CWrite
     /tmp/cc4pwHI9.s:69     .text._I2CRead:00000000 $t
     /tmp/cc4pwHI9.s:74     .text._I2CRead:00000000 _I2CRead
     /tmp/cc4pwHI9.s:115    .text.VL53L0X_WriteMulti:00000000 $t
     /tmp/cc4pwHI9.s:120    .text.VL53L0X_WriteMulti:00000000 VL53L0X_WriteMulti
     /tmp/cc4pwHI9.s:198    .text.VL53L0X_WriteMulti:00000038 $d
                            *COM*:00000040 _I2CBuffer
     /tmp/cc4pwHI9.s:203    .text.VL53L0X_ReadMulti:00000000 $t
     /tmp/cc4pwHI9.s:208    .text.VL53L0X_ReadMulti:00000000 VL53L0X_ReadMulti
     /tmp/cc4pwHI9.s:273    .text.VL53L0X_WrByte:00000000 $t
     /tmp/cc4pwHI9.s:278    .text.VL53L0X_WrByte:00000000 VL53L0X_WrByte
     /tmp/cc4pwHI9.s:314    .text.VL53L0X_WrByte:00000018 $d
     /tmp/cc4pwHI9.s:319    .text.VL53L0X_WrWord:00000000 $t
     /tmp/cc4pwHI9.s:324    .text.VL53L0X_WrWord:00000000 VL53L0X_WrWord
     /tmp/cc4pwHI9.s:363    .text.VL53L0X_WrWord:0000001c $d
     /tmp/cc4pwHI9.s:368    .text.VL53L0X_WrDWord:00000000 $t
     /tmp/cc4pwHI9.s:373    .text.VL53L0X_WrDWord:00000000 VL53L0X_WrDWord
     /tmp/cc4pwHI9.s:418    .text.VL53L0X_WrDWord:00000024 $d
     /tmp/cc4pwHI9.s:423    .text.VL53L0X_RdByte:00000000 $t
     /tmp/cc4pwHI9.s:428    .text.VL53L0X_RdByte:00000000 VL53L0X_RdByte
     /tmp/cc4pwHI9.s:489    .text.VL53L0X_UpdateByte:00000000 $t
     /tmp/cc4pwHI9.s:494    .text.VL53L0X_UpdateByte:00000000 VL53L0X_UpdateByte
     /tmp/cc4pwHI9.s:550    .text.VL53L0X_RdWord:00000000 $t
     /tmp/cc4pwHI9.s:555    .text.VL53L0X_RdWord:00000000 VL53L0X_RdWord
     /tmp/cc4pwHI9.s:622    .text.VL53L0X_RdWord:00000040 $d
     /tmp/cc4pwHI9.s:627    .text.VL53L0X_RdDWord:00000000 $t
     /tmp/cc4pwHI9.s:632    .text.VL53L0X_RdDWord:00000000 VL53L0X_RdDWord
     /tmp/cc4pwHI9.s:704    .text.VL53L0X_RdDWord:0000004c $d
     /tmp/cc4pwHI9.s:709    .text.VL53L0X_PollingDelay:00000000 $t
     /tmp/cc4pwHI9.s:714    .text.VL53L0X_PollingDelay:00000000 VL53L0X_PollingDelay
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
HAL_I2C_Master_Transmit
HAL_I2C_Master_Receive
memcpy
HAL_Delay
